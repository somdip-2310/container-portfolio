# Spring Profile (activated via SPRING_PROFILES_ACTIVE environment variable in ECS task definition)

# Server Configuration
server.port=8080

# AWS Configuration
aws.region=us-east-1
aws.accountId=696390945474

# ECS Configuration
aws.ecs.cluster=container-platform-cluster
aws.ecs.subnet1=subnet-01c7a778d59baa2f9
aws.ecs.subnet2=subnet-0d186b406804af667
aws.ecs.securityGroup=sg-0ec52004e44c9ab38
aws.ecs.taskRoleArn=arn:aws:iam::696390945474:role/ecsTaskRole
aws.ecs.executionRoleArn=arn:aws:iam::696390945474:role/ecsTaskExecutionRole

# ECS Deployment Configuration
aws.ecs.deployment.timeout.seconds=900

# CodeBuild Configuration
aws.codebuild.serviceRoleArn=arn:aws:iam::696390945474:role/CodeBuildServiceRole

# DynamoDB Configuration
aws.dynamodb.endpoint=https://dynamodb.us-east-1.amazonaws.com
aws.dynamodb.tables.users=snapdeploy-prod-users
aws.dynamodb.tables.containers=snapdeploy-prod-containers
aws.dynamodb.tables.deployments=snapdeploy-prod-deployments
aws.dynamodb.table.source-deployments=snapdeploy-prod-source-deployments

# S3 Configuration
aws.s3.bucket.assets=snapdeploy-platform-assets-696390945474
aws.s3.bucket.logs=snapdeploy-platform-logs-696390945474
aws.s3.bucket.backups=snapdeploy-platform-backups-696390945474

# ALB Configuration
aws.alb.listenerArn=arn:aws:elasticloadbalancing:us-east-1:696390945474:listener/app/container-platform-alb/8e31488c59d91a3b/36f026ee83bfb2c6
aws.alb.targetGroupArn=arn:aws:elasticloadbalancing:us-east-1:696390945474:targetgroup/container-platform-tg/66f56d77e4bb82f3
aws.alb.domain=snapdeploy.dev

# Route53 Configuration
aws.route53.hostedZoneId=Z06656043JJC2DWQX99EO

# ECR Configuration
aws.ecr.registry=696390945474.dkr.ecr.us-east-1.amazonaws.com

# CloudWatch Logs
aws.logs.group=/ecs/container-platform

# Email Configuration (SendGrid)
spring.mail.host=smtp.sendgrid.net
spring.mail.port=587
spring.mail.username=apikey
# spring.mail.password set via environment variable SENDGRID_API_KEY
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
app.email.from=noreply@snapdeploy.dev
app.email.support=support@snapdeploy.dev

# Application URLs
app.url=https://snapdeploy.dev
app.api.url=https://snapdeploy.dev/api

# Security Configuration
app.security.jwt.secret=${JWT_SECRET}
app.security.jwt.expiration=86400000

# Session Configuration
spring.session.store-type=none
server.servlet.session.timeout=30m

# Logging Configuration
logging.level.root=INFO
logging.level.dev.somdip.containerplatform=INFO
logging.level.software.amazon.awssdk=WARN
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# Health Check Configuration
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=when-authorized
management.health.diskspace.enabled=true
management.health.db.enabled=false

# Thymeleaf Configuration
spring.thymeleaf.cache=true
spring.thymeleaf.enabled=true
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html

# Static Resources
spring.web.resources.static-locations=classpath:/static/
spring.web.resources.cache.period=31536000

# Jackson Configuration
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.time-zone=UTC

# Multipart Configuration
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=50MB
spring.servlet.multipart.max-request-size=50MB

# Async Configuration
spring.task.execution.pool.core-size=10
spring.task.execution.pool.max-size=20
spring.task.execution.pool.queue-capacity=100

# Scheduling Configuration
spring.task.scheduling.pool.size=5

# Container Limits by Plan
app.container.limits.free=3
app.container.limits.starter=10
app.container.limits.pro=50
app.container.limits.business=200
app.container.limits.enterprise=1000

# Usage Limits (hours per month)
app.usage.limits.free=200
app.usage.limits.starter=2000
app.usage.limits.pro=10000
app.usage.limits.business=50000
app.usage.limits.enterprise=500000

# Storage Limits (GB)
app.storage.limits.free=5
app.storage.limits.starter=20
app.storage.limits.pro=100
app.storage.limits.business=50
app.storage.limits.enterprise=1000

# Production-specific: Auto-stop idle containers
app.container.idle.timeout.minutes=120
app.container.idle.check.interval.minutes=30
